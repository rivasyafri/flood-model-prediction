<html>
<head>
    <title>Flood Simulator</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="css/index-new.css" rel="stylesheet">
    <link href="css/terminal.css" rel="stylesheet">
    <link href="css/custom.css" rel="stylesheet">
    <script src="js/jquery-3.1.1.min.js" type="text/javascript"></script>
    <!--<script src="js/jquery.form.min.js" type="text/javascript"></script>-->
    <script src="js/tether.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/maps.js" type="text/javascript"></script>
    <script src="js/database_connector.js" type="text/javascript"></script>
    <script src="js/response_handler.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com"></script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB9zQClq-5pHvwZMZ_Qi6ENSRIkAfv2Q9g&callback=initMap"
            type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Metrophobic|Anonymous+Pro">
    <script type='text/javascript'
            src="http://cdnjs.cloudflare.com/ajax/libs/jquery-ajaxtransport-xdomainrequest/1.0.1/jquery.xdomainrequest.min.js"></script>
    <script type="text/javascript" src="js/flow.js"></script>
</head>
<body>
<div class="container-fluid">
    <!--Side Navigation menu-->
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="showNav()">&times;</a>
        <a href="javascript:void(0)" data-toggle="modal" data-target="#create-modal" onclick="showNav()">Create Project</a>
        <a href="javascript:void(0)" data-toggle="modal" data-target="#load-modal" onclick="showNav()">Load Project</a>
        <a href="javascript:void(0)" onclick="showNav(); addRectangleGetter();">Set Border</a>
        <a href="javascript:void(0)" data-toggle="modal" data-target="#variable-modal" onclick="showNav()">Set Variables</a>
        <a href="javascript:void(0)" data-toggle="modal" data-target="#setting-modal" onclick="showNav()">Setting</a>
    </div>

    <!-- Button sidenav -->
    <button onclick="showNav()" class="span-nav">â˜°</button>

    <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
    <div id="main">
        <!--Show the map-->
        <div class="maps text-left" id="output-group">
            <div id="data-output-maps">
                <div id="map-visual"></div>
            </div>
        </div>
    </div>

    <!--Load Projects-->
    <div class="modal fade" id="load-modal" tabindex="-1" role="dialog" aria-labelledby="LoadProjectLabel" aria-hidden="true" style="display: none;">
        <div class="modal-dialog">
            <div class="loginmodal-container">
                <h1>Load Project</h1><br>
                <form id="load-project">
                    <div class="form-group">
                        <label for="select-projects">Select Project:</label>
                        <select class="form-control" id="select-projects">
                        </select>
                    </div>
                    <input type="submit" id="btn-load-project" name="load" class="login loginmodal-submit" value="Load">
                    <input type="submit" name="cancel" class="login loginmodal-reset" value="Cancel">
                </form>

                <div class="login-help">
                    <a href="#" data-toggle="modal" data-target="#create-modal">Create a new Project</a>
                </div>
            </div>
        </div>
    </div>

    <!--Create Project-->
    <div class="modal fade" id="create-modal" tabindex="-1" role="dialog" aria-labelledby="CreateProjectLabel" aria-hidden="true" style="display: none;">
        <div class="modal-dialog">
            <div class="loginmodal-container">
                <h1>Create Project</h1><br>
                <form id="create-project">
                    <input type="text" name="project" id="txt-create-name" placeholder="Project Name">
                    <input type="submit" name="create" id="btn-create-project" class="login loginmodal-submit" value="Create">
                    <input type="submit" name="cancel" class="login loginmodal-reset" value="Cancel">
                </form>
            </div>
        </div>
    </div>

    <!--Global Setting of Project-->
    <div class="modal fade" id="setting-modal" tabindex="-1" role="dialog" aria-labelledby="SettingLabel" aria-hidden="true" style="display: none;">
        <div class="modal-dialog">
            <div class="loginmodal-container">
                <h1>Settings</h1><br>
                <form id="setting-project">
                    <label for="txt-cell-size">Cell size in 0.00x lat or long:</label>
                    <input type="text" name="project" id="txt-cell-size" placeholder="ex. '4'">
                    <label for="txt-time-step">Time step in minutes:</label>
                    <input type="text" name="project" id="txt-time-step" placeholder="ex. '5'">
                    <label for="txt-start-date">Start date:</label>
                    <input type="text" name="project" id="txt-start-date" placeholder="ex. '2016-01-01'">
                    <label for="txt-interval-minutes">Interval in minutes:</label>
                    <input type="text" name="project" id="txt-interval-minutes" placeholder="ex. '60'">
                    <input type="submit" name="Done" id="btn-setting-project" class="login loginmodal-submit" value="Done">
                    <input type="submit" name="cancel" class="login loginmodal-reset" value="Cancel">
                </form>
            </div>
        </div>
    </div>

    <!--Variable Setting-->
    <!--<div class="modal fade" id="variable-modal" tabindex="-1" role="dialog" aria-labelledby="VariableLabel" aria-hidden="true" style="display: none;">-->
        <!--<div class="modal-dialog">-->
            <!--<div class="loginmodal-container">-->
                <!--<h1>Create Project</h1><br>-->
                <!--<form id="variable-project">-->
                    <!--<input type="text" name="project" id="txt-create-name" placeholder="Project Name">-->
                    <!--<input type="submit" name="create" id="btn-create-project" class="login loginmodal-submit" value="Create">-->
                    <!--<input type="submit" name="cancel" class="login loginmodal-reset" value="Cancel">-->
                <!--</form>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->
</div>
<script type="text/javascript">
    $(document).ready(function () {
        refreshSelect();

        $("#select-projects").click(function () {
            refreshSelect();
        });

        $("#btn-load-project").click(function (event) {
            event.preventDefault();
            var url = $('#select-projects').val();
            var request = loadProject(url);
            request.done(function (response, textStatus, jqXHR) {
                removeShowInModal();
            });
        });

        $("#btn-create-project").click(function (event) {
            event.preventDefault();
            var projectName = $('#txt-create-name').val();
            var request = createProject(projectName);
            request.done(function (response, textStatus, jqXHR) {
                alert("Project created successfully");
                removeShowInModal();
            });
        });

        $(".loginmodal-reset").click(function (event) {
           event.preventDefault();
           removeShowInModal();
        });
    });
</script>
</body>
</html>
